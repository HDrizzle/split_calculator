function update(t){var e=getSpeed(t),n=[0,1,2];for(type=0;type<n.length;type++)if(2==type)document.getElementById("speed-result").innerHTML=Math.round(100*e)/100+" m/s";else{var r=formatTimeString(getLength(type)/e);document.getElementById(types[type]+"-time").value=r,document.getElementById(types[type]+"-result").innerHTML=r}updateSplitResults()}function updateSplitResults(){var t=getLength(1)/getSpeed(0);if(document.getElementById("checkbutton-show-all-splits").checked){for(var e=0,n=0,r=[];e<getLength(0)+getLength(1);){var i=[];e>getLength(0)&&(e=getLength(0)),0==n?i.push("Start"):e>=getLength(0)?i.push("Finish"):i.push(n),i.push(e+"m"),i.push(formatTimeString(e/getSpeed(0))),e+=getLength(1),n+=1,r.push(i)}document.getElementById("split-result").innerHTML="<pre>"+formatStringMatrix(r)+"</pre>"}else document.getElementById("split-result").innerHTML=formatTimeString(t)}function centerBody(){var t=window.screen.width,e=document.querySelector("body"),n=e.offsetWidth;e.style="margin-left: "+Math.max((t-n)/2,5)+"px;"}function getSpeed(t){return 2==t?document.getElementById(types[t]).value:getLength(t)/getTime(t)}function getLength(t){return unitConvertLength(document.getElementById(types[t]+"-length").value,getSelectedOption(document.getElementById(types[t]+"-units")),"m")}function getTime(t){return parseTimeString(document.getElementById(types[t]+"-time").value)}function getSelectedOption(t){return t.options[t.selectedIndex].value}function unitConvertLength(t,e,n){return unitsLength[e]/unitsLength[n]*t}function parseTimeString(t){var e=t.split(":"),n={1:[1],2:[60,1],3:[3600,60,1]};if([1,2,3].includes(e.length)){var r=0;for(i=0;i<e.length;i++)r+=n[e.length][i]*e[i];return r}return null}function formatTimeString(t){var e=new Date(null);return e.setSeconds(t),t<60?e.toISOString().substr(17,2):t<3600?e.toISOString().substr(14,5):e.toISOString().substr(11,8)}function formatStringMatrix(t,e){void 0===e&&(e=" - ");var n=[];for(u=0;u<t[0].length;u++){var r=[];for(y=0;y<t.length;y++)r.push(t[y][u].toString().length);n.push(Math.max(...r))}var i="";for(y=0;y<t.length;y++){var u=0;t[y].map((function(t){u>0&&(i+=e),i+=t.toString().padStart(n[u]," "),u++})),i+="\n"}return i}window.onload=function(){update(0),centerBody()},unitsLength={m:1,km:1e3,mi:1609.344},types=["race","split","speed"];